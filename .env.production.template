# ================================================
# Supabase本番環境 - 環境変数テンプレート
# ================================================
# このファイルをコピーして .env.production を作成し、
# 実際の値を入力してください
# ================================================

# ================================================
# Supabase Database
# ================================================
# Supabase Dashboard → Settings → Database → Connection string
# Connection pooling (推奨) を使用
DATABASE_URL=postgresql://postgres.[PROJECT-REF]:[PASSWORD]@aws-0-ap-northeast-1.pooler.supabase.com:6543/postgres

# ================================================
# Redis (Upstash または Supabase Redis)
# ================================================
# オプション1: Upstash Redis
# https://upstash.com でRedisデータベースを作成
REDIS_URL=https://[YOUR-REDIS-URL].upstash.io
REDIS_TOKEN=[YOUR-REDIS-TOKEN]

# オプション2: ローカルRedis（開発用）
# REDIS_URL=redis://localhost:6379

# ================================================
# JWT認証
# ================================================
# 以下のコマンドで生成:
# node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=[32文字以上のランダム文字列]
JWT_REFRESH_SECRET=[別の32文字以上のランダム文字列]

# ================================================
# Google Maps API
# ================================================
# https://console.cloud.google.com/apis/credentials
GOOGLE_MAPS_API_KEY=[YOUR-GOOGLE-MAPS-API-KEY]

# ================================================
# アプリケーション設定
# ================================================
NODE_ENV=production
PORT=4000

# ================================================
# CORS設定
# ================================================
# フロントエンドのURLを設定
ALLOWED_ORIGINS=https://your-frontend-url.vercel.app

# ================================================
# ログ設定
# ================================================
LOG_LEVEL=info
LOG_DIR=./logs

# ================================================
# レート制限
# ================================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ================================================
# ファイルアップロード
# ================================================
MAX_FILE_SIZE=10485760
UPLOAD_DIR=./uploads

# ================================================
# 外部API（オプション）
# ================================================
OSM_OVERPASS_URL=https://overpass-api.de/api/interpreter
CHUDEN_CSV_URL=https://example.com/chuden-data.csv

# ================================================
# メール設定（オプション）
# ================================================
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USER=[YOUR-EMAIL]
EMAIL_PASS=[YOUR-APP-PASSWORD]

# ================================================
# 監視（オプション）
# ================================================
ENABLE_METRICS=true
METRICS_PORT=9090

# ================================================
# Sentry（エラー追跡・オプション）
# ================================================
# SENTRY_DSN=[YOUR-SENTRY-DSN]
