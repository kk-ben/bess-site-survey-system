# 💰 Supabase + Vercel - 詳細コスト分析

## 📊 Supabase料金プラン（2025年最新）

### Free Tier（無料プラン）

| 項目 | 制限 | 備考 |
|------|------|------|
| **データベース容量** | 500MB | PostgreSQL + PostGIS |
| **ストレージ** | 1GB | ファイルアップロード用 |
| **帯域幅** | 2GB/月 | データ転送量 |
| **API リクエスト** | 無制限 | レート制限あり |
| **認証ユーザー** | 50,000 MAU | 月間アクティブユーザー |
| **Edge Functions** | 500,000回/月 | サーバーレス関数 |
| **Realtime接続** | 200同時接続 | WebSocket |
| **バックアップ** | 7日間保持 | 自動バックアップ |
| **サポート** | コミュニティ | Discord/GitHub |

**月額: $0（無料）**

#### 無料プランで運用可能な規模
- ユーザー数: 〜100人
- 候補地データ: 〜1,000件
- 月間アクセス: 〜10,000PV
- データ転送: 〜2GB/月

---

### Pro Tier（推奨）

| 項目 | 制限 | 備考 |
|------|------|------|
| **データベース容量** | 8GB | 追加$0.125/GB |
| **ストレージ** | 100GB | 追加$0.021/GB |
| **帯域幅** | 50GB/月 | 追加$0.09/GB |
| **API リクエスト** | 無制限 | 高速レート制限 |
| **認証ユーザー** | 100,000 MAU | 追加$0.00325/MAU |
| **Edge Functions** | 2,000,000回/月 | 追加$2/100万回 |
| **Realtime接続** | 500同時接続 | 追加$10/1000接続 |
| **バックアップ** | 14日間保持 | Point-in-time復元 |
| **サポート** | メールサポート | 24時間以内返信 |
| **カスタムドメイン** | 無制限 | SSL自動 |
| **Read Replicas** | 利用可能 | 追加料金 |

**月額: $25（約3,500円）**

#### Proプランで運用可能な規模
- ユーザー数: 100〜1,000人
- 候補地データ: 〜10,000件
- 月間アクセス: 〜100,000PV
- データ転送: 〜50GB/月

---

### Team Tier（大規模運用）

| 項目 | 制限 | 備考 |
|------|------|------|
| **データベース容量** | 8GB | 追加$0.125/GB |
| **ストレージ** | 100GB | 追加$0.021/GB |
| **帯域幅** | 250GB/月 | 追加$0.09/GB |
| **API リクエスト** | 無制限 | 最高速レート制限 |
| **認証ユーザー** | 100,000 MAU | 追加$0.00325/MAU |
| **サポート** | 優先サポート | SLA 99.9% |
| **チームメンバー** | 無制限 | 組織管理 |
| **監査ログ** | 利用可能 | コンプライアンス |

**月額: $599（約84,000円）**

---

## 📊 Vercel料金プラン

### Hobby（無料プラン）

| 項目 | 制限 | 備考 |
|------|------|------|
| **帯域幅** | 100GB/月 | データ転送量 |
| **ビルド時間** | 6,000分/月 | デプロイ時間 |
| **Serverless実行** | 100GB-時間/月 | 関数実行時間 |
| **プロジェクト数** | 無制限 | 個人利用 |
| **チームメンバー** | 1人 | 個人のみ |
| **カスタムドメイン** | 無制限 | SSL自動 |
| **Edge Functions** | 100,000回/月 | |
| **サポート** | コミュニティ | |

**月額: $0（無料）**

---

### Pro（推奨）

| 項目 | 制限 | 備考 |
|------|------|------|
| **帯域幅** | 1TB/月 | 追加$40/100GB |
| **ビルド時間** | 24,000分/月 | 追加$40/1000分 |
| **Serverless実行** | 1,000GB-時間/月 | 追加$40/100GB-時間 |
| **プロジェクト数** | 無制限 | 商用利用可 |
| **チームメンバー** | 無制限 | $20/メンバー/月 |
| **カスタムドメイン** | 無制限 | SSL自動 |
| **Edge Functions** | 1,000,000回/月 | 追加$0.65/100万回 |
| **サポート** | メールサポート | |
| **Analytics** | 高度な分析 | |
| **パスワード保護** | 利用可能 | |

**月額: $20（約2,800円）**

---

## 📊 Upstash Redis料金プラン

### Free Tier

| 項目 | 制限 |
|------|------|
| **コマンド数** | 10,000/日 |
| **データサイズ** | 256MB |
| **リージョン** | 1つ |
| **TLS** | 有効 |

**月額: $0（無料）**

### Pay as you go

| 項目 | 料金 |
|------|------|
| **コマンド数** | $0.2/100,000コマンド |
| **データサイズ** | $0.25/GB |
| **リージョン** | 追加可能 |

**月額: 使用量に応じて（通常$5〜$20）**

---

## 💰 実際のコストシミュレーション

### シナリオ1: スタートアップ（〜100ユーザー）

**構成:**
- Supabase: Free
- Vercel: Hobby (Free)
- Upstash: Free

| サービス | プラン | 月額 |
|---------|--------|------|
| Supabase | Free | $0 |
| Vercel Frontend | Hobby | $0 |
| Vercel Backend | Hobby | $0 |
| Upstash Redis | Free | $0 |
| **合計** | | **$0** |

**制限:**
- データベース: 500MB
- 月間PV: 〜10,000
- 同時接続: 〜50人

**日本円: 0円/月** ✅

---

### シナリオ2: 成長期（100〜500ユーザー）

**構成:**
- Supabase: Pro
- Vercel: Pro
- Upstash: Pay as you go

| サービス | プラン | 月額 |
|---------|--------|------|
| Supabase | Pro | $25 |
| Vercel Frontend | Pro | $20 |
| Vercel Backend | 含まれる | $0 |
| Upstash Redis | Pay as you go | $10 |
| **合計** | | **$55** |

**制限:**
- データベース: 8GB
- 月間PV: 〜100,000
- 同時接続: 〜200人

**日本円: 約7,700円/月** ✅

---

### シナリオ3: 拡大期（500〜2,000ユーザー）

**構成:**
- Supabase: Pro + 追加容量
- Vercel: Pro
- Upstash: Pay as you go

| サービス | プラン | 月額 |
|---------|--------|------|
| Supabase | Pro + 10GB追加 | $25 + $1.25 |
| Vercel Frontend | Pro | $20 |
| Vercel Backend | 含まれる | $0 |
| Upstash Redis | Pay as you go | $20 |
| 帯域幅追加 | 50GB追加 | $4.50 |
| **合計** | | **$70.75** |

**日本円: 約9,900円/月** ✅

---

### シナリオ4: 大規模運用（2,000ユーザー以上）

**構成:**
- Supabase: Team
- Vercel: Pro + 追加リソース
- Upstash: Pro

| サービス | プラン | 月額 |
|---------|--------|------|
| Supabase | Team | $599 |
| Vercel Frontend | Pro | $20 |
| Vercel Backend | 含まれる | $0 |
| Upstash Redis | Pro | $50 |
| **合計** | | **$669** |

**日本円: 約93,600円/月**

---

## 📈 コスト増加の目安

### データベース容量

| データ量 | 候補地数 | 追加コスト |
|---------|---------|-----------|
| 500MB | 〜1,000件 | $0（Free枠内） |
| 1GB | 〜2,000件 | $0（Pro枠内） |
| 5GB | 〜10,000件 | $0（Pro枠内） |
| 10GB | 〜20,000件 | $0.25/月 |
| 20GB | 〜40,000件 | $1.50/月 |

### 帯域幅

| 月間PV | データ転送 | 追加コスト |
|--------|-----------|-----------|
| 10,000 | 〜2GB | $0（Free枠内） |
| 50,000 | 〜10GB | $0（Pro枠内） |
| 100,000 | 〜20GB | $0（Pro枠内） |
| 500,000 | 〜100GB | $4.50/月 |
| 1,000,000 | 〜200GB | $13.50/月 |

---

## 💡 コスト最適化のヒント

### 1. 無料枠を最大限活用

- 開始時はFreeプランで十分
- 500MBのDB容量 = 約1,000件の候補地データ
- 月間10,000PVまで無料

### 2. 段階的なアップグレード

```
Free（0円）
  ↓ 容量不足・機能不足
Pro（7,700円）
  ↓ さらなる成長
Team（93,600円）
```

### 3. データ圧縮

- 画像は外部ストレージ（Cloudinary等）を利用
- 不要なログデータは定期削除
- インデックスを最適化

### 4. キャッシュ活用

- Redisで頻繁なクエリをキャッシュ
- Vercel Edge Cacheを活用
- CDNで静的ファイルを配信

---

## 🆚 さくらVPS vs Supabase コスト比較

### 1年間の総コスト

| 環境 | 初期費用 | 月額 | 年間合計 |
|------|---------|------|---------|
| **さくらVPS（テスト）** | ¥0 | ¥0* | ¥0 |
| **Supabase Free** | ¥0 | ¥0 | ¥0 |
| **Supabase Pro** | ¥0 | ¥7,700 | ¥92,400 |
| **Supabase Team** | ¥0 | ¥93,600 | ¥1,123,200 |

*既存VPS契約を利用

### 機能比較

| 機能 | さくらVPS | Supabase Free | Supabase Pro |
|------|-----------|---------------|--------------|
| 自動スケーリング | ❌ | ✅ | ✅ |
| 自動バックアップ | ❌ | ✅（7日） | ✅（14日） |
| グローバルCDN | ❌ | ✅ | ✅ |
| 高可用性 | ❌ | ✅ | ✅ |
| 管理の手間 | 高 | 低 | 低 |
| カスタマイズ性 | 高 | 中 | 中 |

---

## 🎯 推奨プラン

### フェーズ1: テスト・検証（0〜3ヶ月）
- **さくらVPS**: テスト環境（既存契約）
- **Supabase Free**: 本番環境
- **月額: 0円**

### フェーズ2: 初期運用（3〜12ヶ月）
- **さくらVPS**: テスト環境
- **Supabase Free → Pro**: 本番環境（必要に応じて）
- **月額: 0〜7,700円**

### フェーズ3: 本格運用（12ヶ月以降）
- **さくらVPS**: テスト環境
- **Supabase Pro**: 本番環境
- **月額: 7,700円**

---

## 📞 コスト相談

無料枠で始めて、必要に応じてアップグレードするのが最適です。

**質問があれば、いつでもお気軽にどうぞ！**

---

**まずは無料で始めましょう！🚀**
