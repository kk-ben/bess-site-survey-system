# ğŸš€ BESS v2.0 ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

## ğŸ“ 3ã‚¹ãƒ†ãƒƒãƒ—ã§èµ·å‹•

### ã‚¹ãƒ†ãƒƒãƒ—1: Supabaseã‚¹ã‚­ãƒ¼ãƒã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆ5åˆ†ï¼‰

```powershell
# ã‚¹ã‚­ãƒ¼ãƒã‚’ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼
.\scripts\setup-supabase-v2.ps1
```

ãã®å¾Œï¼š
1. https://supabase.com ã‚’é–‹ã
2. SQL Editor â†’ New query
3. Ctrl+V ã§è²¼ã‚Šä»˜ã‘ â†’ Run
4. Table Editorã§ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆã‚’ç¢ºèª

### ã‚¹ãƒ†ãƒƒãƒ—2: ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®šï¼ˆ3åˆ†ï¼‰

```powershell
# .envãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ
Copy-Item .env.example .env
notepad .env
```

Supabaseã‹ã‚‰ä»¥ä¸‹ã‚’å–å¾—ã—ã¦è¨­å®šï¼š
```bash
SUPABASE_URL=https://xxxxx.supabase.co
SUPABASE_SERVICE_ROLE_KEY=eyJhbGc...
```

### ã‚¹ãƒ†ãƒƒãƒ—3: ã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•ï¼ˆ2åˆ†ï¼‰

```powershell
# ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ
.\scripts\quick-start-v2.ps1
```

ã¾ãŸã¯æ‰‹å‹•ã§ï¼š
```powershell
npm install
npm run build:backend
npm run dev:backend
```

## âœ… å‹•ä½œç¢ºèª

åˆ¥ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ï¼š

```powershell
# v2.0 APIæƒ…å ±å–å¾—
Invoke-RestMethod -Uri "http://localhost:4000/api/v2" -Method GET

# ã¾ãŸã¯ã€ãƒ†ã‚¹ãƒˆã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œ
.\scripts\test-v2-api.ps1
```

æœŸå¾…ã•ã‚Œã‚‹çµæœï¼š
```json
{
  "message": "BESS Site Survey System API v2.0",
  "version": "2.0.0",
  "status": "running",
  "features": [...]
}
```

## ğŸ“š è©³ç´°ã‚¬ã‚¤ãƒ‰

ã‚ˆã‚Šè©³ã—ã„æ‰‹é †ã¯ä»¥ä¸‹ã‚’å‚ç…§ï¼š
- `V2_æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—å®Ÿè¡Œã‚¬ã‚¤ãƒ‰.md` - å®Œå…¨ãªå®Ÿè¡Œæ‰‹é †
- `V2_ä¿®æ­£å®Œäº†ãƒ¬ãƒãƒ¼ãƒˆ.md` - ä¿®æ­£å†…å®¹ã®è©³ç´°
- `database/SUPABASE_V2_å®Ÿè¡Œæ‰‹é †.md` - Supabaseã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—è©³ç´°

## ğŸ› ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚¨ãƒ©ãƒ¼: "Cannot find module '@supabase/supabase-js'"
```powershell
npm install @supabase/supabase-js
```

### ã‚¨ãƒ©ãƒ¼: "Database connection failed"
- .envãƒ•ã‚¡ã‚¤ãƒ«ã®SUPABASE_URLã‚’ç¢ºèª
- Supabaseãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒèµ·å‹•ã—ã¦ã„ã‚‹ã‹ç¢ºèª

### ãƒãƒ¼ãƒˆ4000ãŒä½¿ç”¨ä¸­
```powershell
# ä½¿ç”¨ä¸­ã®ãƒ—ãƒ­ã‚»ã‚¹ã‚’ç¢ºèª
netstat -ano | findstr :4000

# ãƒ—ãƒ­ã‚»ã‚¹ã‚’çµ‚äº†
taskkill /PID [PIDç•ªå·] /F
```

## ğŸ¯ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

1. ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’æŠ•å…¥
2. CSVã‚¤ãƒ³ãƒãƒ¼ãƒˆã‚’ãƒ†ã‚¹ãƒˆ
3. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¨é€£æº
4. VPSã«ãƒ‡ãƒ—ãƒ­ã‚¤

è©³ç´°ã¯ `V2_æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—å®Ÿè¡Œã‚¬ã‚¤ãƒ‰.md` ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

---

**ä½œæˆæ—¥**: 2025å¹´10æœˆ5æ—¥  
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: v2.0
