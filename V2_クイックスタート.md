# 🚀 BESS v2.0 クイックスタート

## 📝 3ステップで起動

### ステップ1: Supabaseスキーマをデプロイ（5分）

```powershell
# スキーマをクリップボードにコピー
.\scripts\setup-supabase-v2.ps1
```

その後：
1. https://supabase.com を開く
2. SQL Editor → New query
3. Ctrl+V で貼り付け → Run
4. Table Editorでテーブル作成を確認

### ステップ2: 環境変数を設定（3分）

```powershell
# .envファイルを作成
Copy-Item .env.example .env
notepad .env
```

Supabaseから以下を取得して設定：
```bash
SUPABASE_URL=https://xxxxx.supabase.co
SUPABASE_SERVICE_ROLE_KEY=eyJhbGc...
```

### ステップ3: サーバーを起動（2分）

```powershell
# クイックスタート
.\scripts\quick-start-v2.ps1
```

または手動で：
```powershell
npm install
npm run build:backend
npm run dev:backend
```

## ✅ 動作確認

別のターミナルで：

```powershell
# v2.0 API情報取得
Invoke-RestMethod -Uri "http://localhost:4000/api/v2" -Method GET

# または、テストスクリプト実行
.\scripts\test-v2-api.ps1
```

期待される結果：
```json
{
  "message": "BESS Site Survey System API v2.0",
  "version": "2.0.0",
  "status": "running",
  "features": [...]
}
```

## 📚 詳細ガイド

より詳しい手順は以下を参照：
- `V2_次のステップ実行ガイド.md` - 完全な実行手順
- `V2_修正完了レポート.md` - 修正内容の詳細
- `database/SUPABASE_V2_実行手順.md` - Supabaseセットアップ詳細

## 🐛 トラブルシューティング

### エラー: "Cannot find module '@supabase/supabase-js'"
```powershell
npm install @supabase/supabase-js
```

### エラー: "Database connection failed"
- .envファイルのSUPABASE_URLを確認
- Supabaseプロジェクトが起動しているか確認

### ポート4000が使用中
```powershell
# 使用中のプロセスを確認
netstat -ano | findstr :4000

# プロセスを終了
taskkill /PID [PID番号] /F
```

## 🎯 次のステップ

1. テストデータを投入
2. CSVインポートをテスト
3. フロントエンドと連携
4. VPSにデプロイ

詳細は `V2_次のステップ実行ガイド.md` を参照してください。

---

**作成日**: 2025年10月5日  
**バージョン**: v2.0
